# Telegram Channel Scraper

Этот проект предназначен для сбора информации из Telegram-каналов и сохранения результатов в CSV-файл.

## 1. Установка необходимых библиотек

```bash
pip install -r requirements.txt
```

или вручную:

```bash
pip install telethon
```

## 2. Получение API-доступа к Telegram

Для работы скрипта вам необходимо получить `api_id` и `api_hash`:

1. Перейдите на сайт [my.telegram.org](https://my.telegram.org/)
2. Авторизуйтесь с помощью своего номера телефона
3. Выберите "API development tools"
4. Заполните форму (название приложения и короткое описание)
5. Вам будет предоставлен `api_id` (число) и `api_hash` (строка)

## 3. Настройка скрипта

Откройте скрипт `TG_parser.py` и замените следующие значения:
- `YOUR_API_ID` - на полученный вами api_id
- `YOUR_API_HASH` - на полученный вами api_hash

## 4. Запуск скрипта

1. Убедитесь, что файл `Results.txt` находится в папке `Results`
2. Запустите скрипт: `python TG_parser.py`
3. При первом запуске вам будет предложено авторизоваться в Telegram (введите номер телефона и код подтверждения)
4. После завершения работы скрипта, результаты будут сохранены в файл `Results/Table.csv`

## 5. Структура проекта

```
project/
│
├── Html/                   # Папка с HTML-файлами для парсинга
│
├── Results/                # Папка с результатами
│   ├── Results.txt         # Список юзернеймов каналов для анализа
│   ├── Table.csv           # Выходной CSV-файл с собранными данными
│   ├── AI.txt              # Категоризированные списки юзернеймов
│   ├── Data Science.txt    # Категоризированные списки юзернеймов
│   └── ИИ.txt              # Категоризированные списки юзернеймов
│
├── TG_parser.py            # Основной скрипт для анализа Telegram-каналов
├── html_parser.py          # Скрипт для извлечения юзернеймов из HTML-файлов
├── README.md               # Документация проекта
└── requirements.txt        # Список зависимостей
```

## 6. Особенности работы скрипта

1. Скрипт обрабатывает все юзернеймы из файла `Results.txt` последовательно
2. Для каждого канала собирается:
   - Дата последнего поста
   - Количество постов за последние 7 дней
   - Юзернейм из описания канала (если есть)
3. Между запросами добавлена задержка 1 секунда для избежания ограничений API
4. Обрабатываются следующие ошибки:
   - Приватный канал
   - Несуществующий канал
   - Превышение лимитов API (в этом случае скрипт ждет указанное время и повторяет запрос)

## 7. Технические требования

- Python 3.7 или выше
- Telethon 1.26.0 или выше
- Доступ к интернету и сервисам Telegram